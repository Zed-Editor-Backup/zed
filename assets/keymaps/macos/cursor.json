[
  // Double check all bindings through usage
  {
    // Done
    "context": "Editor && mode == full",
    "use_key_equivalents": true,
    "bindings": {
      "cmd-shift-l": "assistant::QuoteSelection",
      "cmd-shift-k": "assistant::InsertIntoEditor",
      "cmd-shift-j": "agent::OpenConfiguration"
    }
  },
  {
    "context": "Workspace",
    "use_key_equivalents": true,
    "bindings": {
      "cmd-i": "agent::ToggleFocus",
      "cmd-l": "agent::ToggleFocus"
    }
  },
  {
    // TODO
    "context": "Editor && !edit_prediction",
    "use_key_equivalents": true,
    "bindings": {
      "alt-tab": "editor::ShowEditPrediction"
    }
  },
  {
    // TODO
    "context": "AgentDiff",
    "use_key_equivalents": true,
    "bindings": {
      "cmd-y": "agent::Keep",
      "cmd-n": "agent::Reject",
      "cmd-shift-y": "agent::KeepAll",
      "cmd-shift-n": "agent::RejectAll"
    }
  },
  {
    // TODO
    "context": "Editor && editor_agent_diff",
    "use_key_equivalents": true,
    "bindings": {
      "cmd-y": "agent::Keep",
      "cmd-n": "agent::Reject",
      "cmd-shift-y": "agent::KeepAll",
      "cmd-shift-n": "agent::RejectAll",
      "shift-ctrl-r": "agent::OpenAgentDiff"
    }
  },
  {
    // TODO
    "context": "ContextEditor > Editor",
    "use_key_equivalents": true,
    "bindings": {
      "cmd-enter": "assistant::Assist",
      "cmd-shift-l": "assistant::QuoteSelection",
      "cmd-shift-k": "assistant::InsertIntoEditor",
      "shift-enter": "assistant::Split",
      "ctrl-r": "assistant::CycleMessageRole",
      "enter": "assistant::ConfirmCommand",
      "cmd-k c": "assistant::CopyCode",
      "cmd-k l": "agent::OpenRulesLibrary"
    }
  },
  {
    // Done
    "context": "AgentPanel",
    "use_key_equivalents": true,
    "bindings": {
      "cmd-n": "agent::NewThread",
      "cmd-r": "agent::NewThread",
      "cmd-alt-n": "agent::NewTextThread",
      "cmd-alt-r": "agent::NewTextThread",
      "cmd-alt-'": "agent::OpenHistory",
      "cmd-.": "agent::ToggleProfileSelector",
      "cmd-/": "agent::ToggleModelSelector",
      "cmd-alt-p": "agent::ToggleContextPicker"
    }
  },
  {
    "context": "AgentPanel > NavigationMenu",
    "bindings": {
      "shift-backspace": "agent::DeleteRecentlyOpenThread"
    }
  },
  {
    "context": "AgentPanel > Markdown",
    "use_key_equivalents": true,
    "bindings": {
      "cmd-c": "markdown::CopyAsMarkdown"
    }
  },
  {
    "context": "AgentPanel && prompt_editor",
    "use_key_equivalents": true,
    "bindings": {
      "cmd-n": "agent::NewTextThread",
      "cmd-alt-t": "agent::NewThread"
    }
  },
  {
    "context": "MessageEditor > Editor",
    "use_key_equivalents": true,
    "bindings": {
      "enter": "agent::Chat",
      "cmd-i": "agent::ToggleProfileSelector",
      "shift-ctrl-r": "agent::OpenAgentDiff"
    }
  },
  {
    "context": "EditMessageEditor > Editor",
    "use_key_equivalents": true,
    "bindings": {
      "escape": "menu::Cancel",
      "enter": "menu::Confirm",
      "alt-enter": "editor::Newline"
    }
  },
  {
    "context": "AgentFeedbackMessageEditor > Editor",
    "use_key_equivalents": true,
    "bindings": {
      "escape": "menu::Cancel",
      "enter": "menu::Confirm",
      "alt-enter": "editor::Newline"
    }
  },
  {
    "context": "ContextStrip",
    "use_key_equivalents": true,
    "bindings": {
      "up": "agent::FocusUp",
      "right": "agent::FocusRight",
      "left": "agent::FocusLeft",
      "down": "agent::FocusDown",
      "backspace": "agent::RemoveFocusedContext",
      "enter": "agent::AcceptSuggestedContext"
    }
  },
  {
    "context": "AgentConfiguration",
    "bindings": {
      "ctrl--": "pane::GoBack"
    }
  },
  {
    "context": "ThreadHistory",
    "bindings": {
      "ctrl--": "pane::GoBack"
    }
  },
  {
    "context": "ThreadHistory > Editor",
    "bindings": {
      "shift-backspace": "agent::RemoveSelectedThread"
    }
  },
  {
    "context": "PromptLibrary",
    "use_key_equivalents": true,
    "bindings": {
      "cmd-n": "rules_library::NewRule",
      "cmd-shift-s": "rules_library::ToggleDefaultRule",
      "cmd-w": "workspace::CloseWindow"
    }
  },
  {
    "context": "Editor && showing_completions",
    "use_key_equivalents": true,
    "bindings": {
      "enter": "editor::ConfirmCompletion",
      "shift-enter": "editor::ConfirmCompletionReplace",
      "tab": "editor::ComposeCompletion"
    }
  },
  {
    "context": "Editor && edit_prediction",
    "bindings": {
      "alt-tab": "editor::AcceptEditPrediction",
      "tab": "editor::AcceptEditPrediction"
    }
  },
  {
    "context": "Editor && edit_prediction_conflict",
    "use_key_equivalents": true,
    "bindings": {
      "alt-tab": "editor::AcceptEditPrediction"
    }
  },
  {
    "context": "PromptEditor",
    "use_key_equivalents": true,
    "bindings": {
      "cmd-shift-a": "agent::ToggleContextPicker",
      "cmd-alt-/": "agent::ToggleModelSelector",
      "cmd-alt-e": "agent::RemoveAllContext",
      "ctrl-[": "agent::CyclePreviousInlineAssist",
      "ctrl-]": "agent::CycleNextInlineAssist"
    }
  },
  {
    "context": "Prompt",
    "use_key_equivalents": true,
    "bindings": {
      "left": "menu::SelectPrevious",
      "right": "menu::SelectNext",
      "h": "menu::SelectPrevious",
      "l": "menu::SelectNext"
    }
  },
  {
    "context": "ZedPredictModal",
    "use_key_equivalents": true,
    "bindings": {
      "escape": "menu::Cancel"
    }
  },
  {
    "context": "ConfigureContextServerModal > Editor",
    "use_key_equivalents": true,
    "bindings": {
      "escape": "menu::Cancel",
      "enter": "editor::Newline",
      "cmd-enter": "menu::Confirm"
    }
  }
]
